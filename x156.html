<!DOCTYPE html>
<html>

<head>
    <!-- css -->
    <!--#include virtual="/styles/unity/css/css-include.html" -->
    <title>Template</title>
</head>

<body class="ncar">
    <!-- header include -->
    <!--#include virtual="/styles/unity/includes/header/header.html" -->
    <main class="container-lg py-2 pt-md-3">
        <div class="d-grid d-print-flex">
            <article class="main-content-wrapper">

                <div>
                    <h1><a name="implementation_hist">History and Restart Files</a></h1>
                    <p>
                        In addition to log files, component models also produce history
                        and restart files. History files are generally netcdf format
                        and contain fields associated with the state of the model. History
                        files are implemented and controlled independently in the component
                        models, although support for monthly average history files is a
                        standard output of most CCSM production runs.
                        CCSM has a file naming standard for history files which includes
                        the case names, component name, and model date.
                    </p>
                    <p>
                        All component models in CCSM must be able to stop in the middle
                        of a run and then subsequently restart in a bit-for-bit fashion.
                        For most models, this requires the writing of a restart file.
                        The restart file can be any format, although netcdf has become
                        relatively standard, and it should contain any scalars, fields,
                        or information that is required to restart the component model
                        in exactly the same state as when the restart was written and the
                        model was stopped. The expectation in CCSM is that a restart of
                        a model run will be bit-for-bit identical and this is regularly
                        tested as part of CCSM development by running the model 10 days,
                        writing a restart at the end of 5 days, and then restarting at
                        day 5 and comparing the result with the 10 day run. Unlike history
                        files, restart files must be coordinated across different components.
                        The restart frequency is set in the driver
                        <a href="x371.html#nml_timemgr">time manager namelist</a>
                        and the driver triggers a restart alarm
                        in clocks when a coordinated restart is requested. The
                        components are required to check this alarm whenever they are called
                        and to write a restart file at the end of the current coupling
                        period. This method ensures all components are writing restart
                        files at a consistent timestamp. The restart filenames are normally
                        set in a generic rpointer file. The rpointer file evolves over
                        the integration and keeps track of the current restart filenames.
                        When a model is restarted, both the rpointer file and the actual
                        restart file are generally required.
                    </p>
                    <p>
                        Many models are also able to restart accumulating history exactly files in
                        the middle of an accumulation period, but this is not a current
                        requirement in CCSM4. In production, the model is
                        usually started and stopped on monthly boundaries so monthly average
                        history files are produced cleanly. The run length of a CCSM4 production
                        run is usually specified using the nmonths or nyears option and
                        restart files are normally written only at the end of the run.
                    </p>
                </div>

                <div id="pagination" class="component pagination-book">
                    <div class="row">
                        <div class="col-12 col-sm p-2 p-md-3 text-center text-md-right">
                            <div><a href="x152.html" class="component-link i-angle-left--before">Previous Page</a>
                            </div>
                            <a href="x152.html">The bit-for-bit (BFB) Flag</a>
                        </div>
                        <div class="col-12 col-sm-3 p-2 p-md-3 text-center">
                            <div><a href="index.html" class="component-link">Home</a></div>
                            <div class="mt-1"><a href="#" class="btn btn-primary p-1"><i
                                        class="fas fa-angle-up"></i>Back to Top</a></div>
                        </div>
                        <div class="col-12 col-sm p-2 p-md-3 text-center text-md-left">
                            <div><a href="x162.html" class="component-link i-angle-right--after">Next Page</a></div>
                            <a href="x162.html">Budget Setup and Computation</a>
                        </div>
                    </div>
                </div>

            </article>
        </div>
    </main>
    <!-- footer & javascript includes -->
    <!--#include virtual="/styles/unity/includes/footer/footer.html" -->
    <!--#include virtual="/styles/unity/js/js-include.html" -->
</body>

</html>